<!-- This is landing page-->
<!DOCTYPE html>
<html>
  <head>
    <title>Nepali Summarizer</title>
    <link
      rel="icon"
      href="data:image/png;base64,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"
    />
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
    />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Dosis:wght@500&family=Inconsolata&family=Nunito+Sans:wght@200&family=Open+Sans:wght@300&display=swap");
      #app {
        /* height: 100vh;
        width: 100vw; */
        font-family: "Dosis", sans-serif;
        font-family: "Inconsolata", monospace;
        font-family: "Open Sans", sans-serif;
      }

      :root {
        --sp: 2.5s; /* change speed */
      }		

      /* Add a new class for the overlay when it should be shown */
.overlay.hidden {
  display: none;
}

.overlay {
  /* Center the overlay */
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.overlay::before {
  /* Dark layer on top of the page */
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.6);
  z-index: -1;
}

.content {
	width: 50vmin;
	height: 50vmin;
	position: relative;
	display: flex;
	align-items: center;
	justify-content: center;
	transform: scale(0.65);
	animation: spin-all calc(var(--sp) * 2) linear 0s infinite
}

.circle {
	--in: 80%;
	--ar: #ff9800;
	--dt: #ffea34;
	--shadow: drop-shadow(0vmin 0vmin 0.5vmin #000) drop-shadow(0vmin 1vmin 0.5vmin #0004);
	--cross: linear-gradient(0deg, #fff0 calc(50% - 2px), #000 calc(50% - 1px) calc(50% + 1px), #fff0 calc(50% + 2px)), linear-gradient(90deg, #fff0 calc(50% - 2px), #000 calc(50% - 1px) calc(50% + 1px), #fff0 calc(50% + 2px));
    border: 6vmin solid var(--ar);
    width: var(--in);
    height: var(--in);
    border-radius: 100%;
    position: absolute;
    box-sizing: border-box;
    border-top-color: #fff0;
    border-left-color: #fff0;
    top: 15vmin;
    right: -10vmin;
    animation: spin-bot var(--sp) ease 0s infinite;
    background-image: var(--cross), radial-gradient(var(--dt) 5.5vmin, #fff0 calc(5.5vmin + 1px));
	  background-repeat: no-repeat;
    background-size: 3vmin 1vmin, 1vmin 3vmin, 100% 100%;
    background-position: center center;
	  filter: var(--shadow);
}

.circle:nth-child(2) {
    --in: 60%;
    top: -2vmin;
    animation: spin-top var(--sp) ease 0s infinite;
    transform: rotate(-45deg);
    background-image: var(--cross), radial-gradient(var(--dt) 1.25vmin, #fff0 calc(1.25vmin + 1px));
    right: -4vmin;
	filter: hue-rotate(10deg) var(--shadow);
    background-size: 1.4vmin 1vmin, 1vmin 1.4vmin, 100% 100%;
}

.circle:nth-child(3) {
    --in: 100%;
    top: -5vmin;
    left: -13vmin;
    transform: rotate(175deg);
    animation: spin-left var(--sp) ease calc(var(--sp) / 4) infinite;
    background-image: var(--cross), radial-gradient(var(--dt) 9vmin, #fff0 calc(9vmin + 1px));
	filter: hue-rotate(20deg) var(--shadow);
    background-size: 5vmin 1vmin, 1vmin 5vmin, 100% 100%;
}

.circle:nth-child(4) {
    --in: 60%;
    top: 35vmin;
    left: -6vmin;
    transform: rotate(-280deg);
    animation: spin-last var(--sp) ease calc(calc(calc(var(--sp) / 4) + var(--sp)) * -1) infinite;
    background-image: var(--cross), radial-gradient(var(--dt) 2.5vmin, #fff0 calc(2.5vmin + 1px));
	  filter: hue-rotate(30deg) var(--shadow);
    background-size: 2vmin 1vmin, 1vmin 2vmin, 100% 100%;
}


@keyframes spin-all {
	0% { transform: rotate(0deg) scale(0.65); }
	100% { transform: rotate(360deg) scale(0.65); }
}


@keyframes spin-top {
	0% { transform: rotate(-45deg); }
	100% { transform: rotate(315deg); }
}

@keyframes spin-bot {
	0%, 35% { transform: rotate(0deg); }
	80%, 100% { transform: rotate(-360deg); }
}

@keyframes spin-left {
	0%, 35% { transform: rotate(175deg); }
	80%, 100% { transform: rotate(535deg); }
}

@keyframes spin-last {
	0%, 10% { transform: rotate(-280deg); }
	90%, 100% { transform: rotate(-640deg); }
}

@import url(https://fonts.googleapis.com/css?family=Dosis:700);

body {
  font-family: "Dosis", Helvetica, Arial, sans-serif;
  background: #ecf0f1;
  color: #34495e;
  padding-top: 40px;
  text-shadow: white 1px 1px 1px;
}

.slider-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
}

.slider-container label {
  margin-right: 10px;
}

.slider-container input[type="range"] {
  width: 200px;
}

.value {
  border-bottom: 4px dashed #bdc3c7;
  text-align: center;
  font-weight: bold;
  font-size: 2em;
  width: 100px;
  height: 40px;
  line-height: 40px;
  margin: 0 10px;
  letter-spacing: -.07em;
  text-shadow: white 2px 2px 2px;
}

input[type="range"] {
  display: block;
  -webkit-appearance: none;
  background-color: #bdc3c7;
  width: 200px;
  height: 8px;
  border-radius: 5px;
  margin: 0;
  outline: 0;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  background-color: #e74c3c;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid white;
  cursor: pointer;
  transition: .3s ease-in-out;
}

input[type="range"]::-webkit-slider-thumb:hover {
  background-color: white;
  border: 2px solid #e74c3c;
}

input[type="range"]::-webkit-slider-thumb:active {
  transform: scale(1.6);
}


      .navbar--cont {
        height: 50px;
        box-shadow: 1px 2px 5px -2px rgba(194, 194, 194, 0.75);
        -webkit-box-shadow: 1px 4px 5px -2px rgba(194, 194, 194, 0.75);
        -moz-box-shadow: 1px 9px 5px -2px rgba(194, 194, 194, 0.75);
      }
      body {
        /* height: 94vh; */
        background: #f1f1f1;
      }
      .box--modal {
        height: 500px;
        width: 80vw;
        box-shadow: 0px 0px 34px 3px rgba(222, 222, 222, 0.76);
        -webkit-box-shadow: 0px 0px 34px 3px rgba(222, 222, 222, 0.76);
        -moz-box-shadow: 0px 0px 34px 3px rgba(222, 222, 222, 0.76);
        border-radius: 8px;
      }
      .header--cont {
        height: 40px;
        border-bottom: 0.5px solid #a8a8a8;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
      }
      .input--cont {
        border-right: 1px solid #a8a8a8;
      }
      .input--ouput--cont {
        height: 90%;
      }
      .paraphraseBtn {
        margin-top: -50px;
        border-radius: 50px;
      }
      .mode1::before {
        margin-top: 30px;
        margin-left: -5px;
        content: "";
        height: 2px;
        width: 65px;
        position: absolute;
        background: black;
      }

      .copy--btn {
        box-shadow: 0px 0px 34px 3px rgba(222, 222, 222, 0.76);
        -webkit-box-shadow: 0px 0px 34px 3px rgba(222, 222, 222, 0.76);
        -moz-box-shadow: 0px 0px 34px 3px rgba(222, 222, 222, 0.76);
      }
      .copy--btn:hover {
        transform: scale(1.01);
        background: wheat;
      }

      /* responsive view port */
      @media (max-width: 1100px) {
        .input--ouput--cont {
          width: 100%;
          flex-direction: column;
        }
        .input--cont {
          height: 500px !important;
          width: 100% !important;
        }
        .output--cont {
          margin-top: 20px;
          height: 500px !important;
          width: 100% !important;
          border-top: 10px solid #f1f1f1;
          overflow: scroll;
        }
      }
    </style>

<script>
  function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== "") {
      const cookies = document.cookie.split(";").map(cookie => cookie.trim());
      for (let i = 0; i < cookies.length; i++) {
        if (cookies[i].startsWith(name + "=")) {
          cookieValue = cookies[i].substring(name.length + 1);
          break;
        }
      }
    }
    return cookieValue;
  }
</script>

  </head>
  <body>
    <div id="app">
      <div
        class="navbar--cont d-flex justify-content-between align-items-center px-4"
      >
        <img src="logo.png" height="50px" width="50px" />
        <h6 class="col-md-11 pt-1 font-weight-bold">Nepali Text Summarizer</h6>
        <button
          type="button"
          data-toggle="modal"
          data-target="#loginModal"
          class="btn btn-dark px-3 rounded-2"
        >
          Login
        </button>
      </div>
      <!-- Add the slider container -->
      <div class="slider-container">
        <label for="minLengthSlider">Minimum Length:</label>
        <div class="value" id="minLengthValue">{{ min_length }}</div>
        <input type="range" id="minLengthSlider" class="length-slider" min="0" max="200" step="1" value="{{ min_length }}">
      
        <label for="maxLengthSlider">Maximum Length:</label>
        <div class="value" id="maxLengthValue">{{ max_length }}</div>
        <input type="range" id="maxLengthSlider" class="length-slider" min="0" max="200" step="1" value="{{ max_length }}">
      </div>
      
            
      <div class="body p-3 pt-5 d-flex justify-content-center">
        <div class="box--modal bg-white">
          <div class="header--cont d-flex justify-content-between align-items-center p-3 bg-white">
            <div class="d-flex justify-content-between align-items-center">
              <span style="width: 100px;">Article</span>
              <span class="ml-5" style="width: 200px; color: green;" id="wordCount"></span>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <span>Summary</span>
              <span class="ml-5" style="color: green;" id="summaryWordCount"></span>
            </div>
            <span class="text-danger ml-5" id="errorMsgSpan"></span>
          </div>
          
          <div class="input--ouput--cont d-flex">
            <div class="input--cont w-50 py-2 px-3 overflow-y">
              <textarea
                class="textfield form-control mt-3 h-100 w-100 border-0 shadow-none outline-none"
                placeholder="Paste your content here"
                id="inputText"
              ></textarea>
              <div class="px-4 w-100 d-flex justify-content-end">
                <button
                  class="paraphraseBtn btn btn-dark px-4 ml-5 position-absolute"
                  onclick="summarizeText()"
                >
                  Summarize
                </button>
              </div>
            </div>
            <div class="output--cont w-50 py-1 overflow-y">
              <!-- <div
                class="header--cont d-flex justify-content-between align-items-center p-3 bg-white">
                <div class="d-flex">
                  <span>рдкрд╛рда</span>
                </div>
                <span class="text-danger ml-5" id="errorMsgSpan"></span>
              </div> -->
              <div class="w-100 d-flex justify-content-end">
                <div class="copy--btn btn btn-white rounded-5 py-0" onclick="copyOutput()">
                  Copy <i class="far fa-copy"></i>
                </div>
              </div>
              <p class="px-3" id="outputPanel">Output here...</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- login modal -->
    <div
      class="modal fade"
      id="loginModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="loginModalTitle"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Login</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form method="POST" class="my-login-validation" action="{% url 'login' %}" novalidate="">
              {% csrf_token %}
              <div class="form-group">
                <label for="email">Email</label>
                <input
                  id="email"
                  type="email"
                  class="form-control"
                  name="email"
                  value=""
                  required
                  autofocus
                />
                <div class="invalid-feedback">
                  Email is invalid
                </div>
              </div>

              <div class="form-group">
                <label for="password">Password </label>
                <input
                  id="password"
                  type="password"
                  class="form-control"
                  name="password"
                  required
                  data-eye
                />
                <div class="invalid-feedback">
                  Password is required
                </div>
              </div>

              <div class="form-group">
                <div class="custom-checkbox custom-control">
                  <input
                    type="checkbox"
                    name="remember"
                    id="remember"
                    class="custom-control-input"
                  />
                  <label for="remember" class="custom-control-label"
                    >Remember Me</label
                  >

                  <a href="forgot.html" class="float-right">
                    Forgot Password?
                  </a>
                </div>
              </div>

              <div class="form-group m-0">
                <button type="submit" class="btn btn-dark btn-block">
                  Login
                </button>
              </div>
              <div class="mt-4 text-center">
                Don't have an account?
                <a href="#" data-toggle="modal" data-target="#signupModal"
                  >Create One</a
                >
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- signup modal -->
    <div
      class="modal fade"
      id="signupModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="signupModaltitle"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">
              Create Account
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form method="POST" action="{% url 'signup' %}" class="my-login-validation" novalidate="">
              <div class="form-group">
                <label for="name">Name</label>
                <input
                  id="name"
                  type="text"
                  class="form-control"
                  name="name"
                  required
                  autofocus
                />
                <div class="invalid-feedback">
                  What's your name?
                </div>
              </div>

              <div class="form-group">
                <label for="email">Email</label>
                <input
                  id="email"
                  type="email"
                  class="form-control"
                  name="email"
                  required
                />
                <div class="invalid-feedback">
                  Your email is invalid
                </div>
              </div>

              <div class="form-group">
                <label for="password">Password</label>
                <input
                  id="password"
                  type="password"
                  class="form-control"
                  name="password"
                  required
                  data-eye
                />
                <div class="invalid-feedback">
                  Password is required
                </div>
              </div>

              <div class="form-group">
                <div class="custom-checkbox custom-control">
                  <input
                    type="checkbox"
                    name="agree"
                    id="agree"
                    class="custom-control-input"
                    required=""
                  />
                  <label for="agree" class="custom-control-label"
                    >I agree to the <a href="#">Terms and Conditions</a></label
                  >
                  <div class="invalid-feedback">
                    You must agree with our Terms and Conditions
                  </div>
                </div>
              </div>

              <div class="form-group m-0">
                <button type="submit" class="btn btn-dark btn-block">
                  Register
                </button>
              </div>
              <div class="mt-4 text-center">
                Already have an account? <a href="#" id="backToLogin">Login</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div id="overlay" class="overlay hidden">
      <div class="content">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
      </div>
    </div>
    

    <!-- footer of the main page -->
    <footer id="sticky-footer" class="flex-shrink-0 py-4 bg-light">
      <div class="container">
        <div class="row">
          <div class="col-md-9">
            <h5>About Us</h5>
            <p>
              Nepali Summarizer is a system designed to automatically generate
              summaries of Nepali language content. The system uses natural
              language processing and machine learning techniques to analyze and
              extract important information from Nepali text, and then generates
              a concise summary that captures the essence of the original
              content. With Nepali Summarizer, users can quickly and easily
              summarize long articles, reports, and other documents, saving them
              time and effort. Whether you are a student, researcher,
              journalist, or anyone else who needs to sift through large volumes
              of Nepali text, Nepali Summarizer can help you extract the key
              points and get to the heart of the matter.
            </p>
          </div>
          <div class="col-md-3">
            <h5>Contact Us</h5>
            <ul class="list-unstyled">
              <li><a href="#">Email</a></li>
              <li><a href="#">Phone</a></li>
              <li><a href="#">Address</a></li>
            </ul>
          </div>
          <!-- <div class="col-md-3">
            <h5>Follow Us</h5>
            <ul class="list-unstyled">
              <li><a href="#">Facebook</a></li>
              <li><a href="#">Twitter</a></li>
              <li><a href="#">Instagram</a></li>
            </ul>
          </div> -->
        </div>
        <div class="row mt-3">
          <div class="col-md-12 text-center">
            <p>&copy; 2023 Nepali text summarizer. All rights reserved.</p>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script>
      // hide the login modal when signup modal is open
      $("#signupModal").on("show.bs.modal", function () {
        $("#loginModal").modal("hide");
      });
      //hide the signup modal when back to the login page
      $("#backToLogin").click(function () {
        $("#signupModal").modal("hide");
        $("#loginModal").modal("show");
      });

      function updateWordCount() {
        const inputText = document.getElementById("inputText").value;
        const wordCountElement = document.getElementById("wordCount");

        // Calculate word count for input text
        const inputWordCount = inputText.trim().split(/\s+/).length;
        wordCountElement.innerHTML = `Input Word Count: ${inputWordCount}`;
      }

      function summarizeText() {
        const inputText = document.getElementById("inputText").value;
        const outputPanel = document.getElementById("outputPanel");
        const summaryWordCountElement = document.getElementById("summaryWordCount");
        const overlay = document.getElementById("overlay");
        const minLengthSlider = document.getElementById("minLengthSlider");
        const maxLengthSlider = document.getElementById("maxLengthSlider");

        // Show the overlay
        overlay.classList.remove("hidden");

        // Make a POST request to the backend API endpoint
        fetch("/summarize/", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": getCookie("csrftoken")
          },
          body: JSON.stringify({
            text: inputText,
            min_length: minLengthSlider.value,
            max_length: maxLengthSlider.value
          })
        })
          .then(response => response.json())
          .then(data => {
            // Display the summary in the output panel
            outputPanel.innerText = data.summary;

            // Calculate word count for summary
            const summaryWordCount = data.summary.trim().split(/\s+/).length;
            summaryWordCountElement.innerHTML = `Summary Word Count: ${summaryWordCount}`;

            // Hide the overlay
            overlay.classList.add("hidden");
          })
          .catch(error => {
            console.error("Error:", error);
            // Display an error message
            outputPanel.innerText = "Error occurred. Please try again.";

            // Hide the overlay
            overlay.classList.add("hidden");
          });
      }


      // Add an event listener to update the word count when the user types
      const inputTextArea = document.getElementById("inputText");
      inputTextArea.addEventListener("input", updateWordCount);

      // Add an event listener to the "Summarize" button
      const summarizeButton = document.querySelector(".paraphraseBtn");
      summarizeButton.addEventListener("click", summarizeText);

      function copyOutput() {
        const outputPanel = document.getElementById("outputPanel");
        // Copy the summary text to the clipboard
        navigator.clipboard.writeText(outputPanel.innerText)
          .then(() => {
            alert("Summary copied to clipboard!");
          })
          .catch(error => {
            console.error("Error:", error);
          });
      }

      function submitForm(event, url) {
        event.preventDefault();
        const form = event.target;
        const formData = new FormData(form);
        const data = Object.fromEntries(formData);
        const csrfToken = getCookie("csrftoken");

        fetch(url, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": csrfToken
          },
          body: JSON.stringify(data)
        })
          .then(response => response.json())
          .then(data => {
            // Handle response
          })
          .catch(error => {
            console.error("Error:", error);
          });
      }

      const loginForm = document.querySelector(".my-login-validation");
      loginForm.addEventListener("submit", event => submitForm(event, "{% url 'login' %}"));

      const signupForm = document.querySelector(".my-signup-validation");
      signupForm.addEventListener("submit", event => submitForm(event, "{% url 'signup' %}"));

    </script>

<script>
  // Function to update the displayed values
  function updateSliderValues() {
    const minLengthSlider = document.getElementById("minLengthSlider");
    const minLengthValue = document.getElementById("minLengthValue");
    minLengthValue.innerHTML = minLengthSlider.value;

    const maxLengthSlider = document.getElementById("maxLengthSlider");
    const maxLengthValue = document.getElementById("maxLengthValue");
    maxLengthValue.innerHTML = maxLengthSlider.value;
  }

  // Add event listeners to the sliders
  const minLengthSlider = document.getElementById("minLengthSlider");
  minLengthSlider.addEventListener("input", updateSliderValues);

  const maxLengthSlider = document.getElementById("maxLengthSlider");
  maxLengthSlider.addEventListener("input", updateSliderValues);

  // Trigger the initial update
  updateSliderValues();
</script>


    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="./src/utils.js"></script> -->
  </body>
</html>
